location:
  source_directories:
    - /mnt/source  # ğŸ” Path inside container to be backed up (mapped from /opt/docker on host)

  repositories:
    - path: ${BORG_REPO_URL}  # ğŸ“¦ Remote repository (BorgBase); filled from .env file
      label: borgbase          # ğŸ·ï¸ Friendly label for your repo (used for clarity in logs)
      storage_quota: 10G       # â„¹ï¸ Optional, informative; helps keep track of repo usage

  one_file_system: true  # ğŸš« Prevent backup from crossing into other filesystems (protects /proc, /sys, etc.)

  exclude_patterns:  # âŒ Skip paths you donâ€™t want to back up
    - /mnt/source/data/stremthru/imdb         # Skips IMDb metadata folder (temporary)
    - /mnt/source/data/stremthru/hashlists    # Skips hashlist cache (can be regenerated)
    - /mnt/source/data/stremio-server         # Skips stremio server directory (optional)

storage:
  encryption_passphrase: null  # ğŸ” Leave null here; passphrase is pulled from BORG_PASSPHRASE env var
  compression: lz4             # âš¡ Fast and efficient compression (balanced for performance and space)
  archive_name_format: 'backup-{now:%Y-%m-%d_%H-%M-%S}'  # ğŸ§¾ Unique archive name with date & time
  numeric_owner: true          # ğŸ‘¤ Store UID/GID instead of usernames (safer across systems)
  read_special: false          # ğŸš« Donâ€™t back up special device files like /dev/null

retention:  # â™»ï¸ Controls how many old backups to keep
  keep_daily: 0     # Donâ€™t keep daily snapshots
  keep_weekly: 2    # Only last 2 weekly backups (ideal for limited storage)
  keep_monthly: 0   # No monthly backups
  keep_yearly: 0    # No yearly backups

consistency:
  checks:  # ğŸ” Automatically verify your backup integrity
    - name: repository
      frequency: weekly     # ğŸ—“ï¸ Validate repo structure once a week
    - name: archives
      frequency: always     # âœ… Verify new backup archives every time after creation

output:
  verbosity: 1              # ğŸ“‹ Show basic logs (0 = quiet, 2 = verbose)
  color: true               # ğŸŒˆ Pretty colorized logs in console
  log_json: true            # ğŸ§¾ Structured logs in JSON (useful for external log processors)
  stats_json: true          # ğŸ“Š Output JSON stats (size, duration, files)
